<app-navbar></app-navbar>
<div class="container">
  <div class="row">
    <div class="col">
      <h4>Usuários</h4>
    </div>
    <div class="col">
      <button class="btn btn-primary float-right" (click)="showForm()">Novo usuário</button>
    </div>
    <div class="col-sm-12">
      <hr>
      <table class="table table-striped">
        <tr *ngFor="let user of users">
          <td>{{user.id}}</td>
          <td>{{user.name}}</td>
          <td>{{user.email}}</td>
          <td *ngIf="me && me.id !== user.id"><button class="btn btn-danger"
              (click)="showForm(user, 'destroy')">Delete</button>
          </td>
        </tr>
      </table>
    </div>
  </div>
  <app-dialog *ngIf="show_form" [title]="current_form_title" (dismiss)="hideForm()">
    <app-user-form (abort)="formFinish()" (success)="formFinish()" [method]='current_method'
      [model]="current_entity">
    </app-user-form>
  </app-dialog>
</div>
